<!DOCTYPE html>
<html lang="hu">
<head>
  <title>borospince</title>
  <meta name="description" content="Gondolatok a programozásról, algoritmusokról, optimalizálásról. A célt előbb fel kell fedezni, és csak ezután kezdődik a kaland, a tájékozódás. Ezért látom el az elolvasott szövegeket különböző jelzésekkel, amikből megtudod, hogy hol tartasz, van-e újabb változat stb.">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/borok/styles_cs2020.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined">
  <link rel="icon" href="/src_home/favicon.ico" type="image/gif" sizes="65x65">
</head>
<body>
  <div class="active-footer">
    <a onclick="window.scrollTo(0,0);"><span class="back-to-top"><span class="material-icons-outlined">&#xe5ce;</span></span></a>
  </div>
  <section id="container_cs2020">
    <div class="nav-wrapper">
      <div class="left-side">
        <div id="bigyo">
          <div id="home" class="nav-link-wrapper" >
            <a href="/index.html"><span class="material-icons-outlined">&#xe88a;</span></a>
          </div>
          <button id="kjelzo"></button>
          <table><tr><td id="holtart"></td></tr></table>
        </div>
        <select name="olv"></select>
      </div>
    </div>
    <div class="content">
      <div class="box">
        <div class="box-text">
          <p>
            Kiskoromban rengeteget ültem a TV előtt, így volt szerencsém végignézni A négy páncélos és a kutya, A tavasz 17 pillanata és a Kockázat című filmsorozatokat.
            Az akkori egyetlen nemzeti TV-csatornán nem volt választék, ezért az egész országot ezek a sorozatok szögezték a képernyő elé. Nem volt más.
            Utóbb figyelemre méltó értékelést kaptak az IMDB-n (<a href="https://www.imdb.com/title/tt0120948/">7.8</a>, <a href="https://www.imdb.com/title/tt0069628/">8.8</a> <a href="https://www.imdb.com/title/tt0065035/">7.8</a>), még ha csekély számú szavazótól is.
            <br>
            A Kockázatból emlékszem arra a jelenetre, amiben nyilvánvaló rendezői túlkapás folytán zajlott úgy a cselekmény, ahogy az a valóságban soha nem történne.
            Nem CGI-effektekre vagy zöld háttér előtt madzagon lógó szereplőkre gondolok, mert akkoriban nem léteztek ezek a módszerek.
            Hans Kloss (a keleti James Bond) határozott léptekkel halad a járdán. Még nem tud róla, hogy a találkahelyen a Gestapo csapdát állított neki.
            Úgy menekül meg a leleplezéstől, hogy a nácik által sakkban tartott társa egy óvatlan pillanatban lelök egy virágcserepet a második emeleti lakás ablakpárkányáról, ami a járdára zuhan. Pontosan Kloss kapitány lába elé.
            Nem sokon múlik, hogy nem a fejére, de a hős nem jön zavarba, és mintha mi sem történt volna, rezzenéstelenül, katonás léptekkel halad tovább.
            Már eszében sincs bemenni a házba, és ott fogságba esni. Jelzést kapott.
            <br>
            Ennél jóval egyszerűbben is jelezhetünk. Bringások karjelzéssel kanyarodási szándékot, elégedetlen emberek felemelt középső ujjal véleményüket, kacsintással meg bármit, amiben korábban megegyeztünk.
            Egy jól kidolgozott jelzésrendszer segít eligazodni a világban, jelzések nélkül pedig nehezedik az élet. Persze hiába a jelzés, ha nem érti a címzett.
          </p>
        </div>
      </div>
      <div class="box">
        <div class="box-text">
          <p>
            Túl nagy jelentőséget tulajdonítok a <code>pince.eu</code> weboldalon megjelent közléseknek, mert azt feltételezem, hogy anyámon kívül mások is ide tévednek hébe-hóba, akiknek igyekszem a kedvükben járni.
            A hosszan elhúzódó folyamatokról tudósító, szakaszosan megjelenő írások időről időre újabb történések jegyzeteivel bővülnek (a borkészítés a szürettől a hordós érlelésig tipikusan ilyen), s ezeknél nem árt elhelyezni valamilyen jelzést arról, hogy a legutóbbi megtekintés óta változott-e a tartalom.
            Mert ha változott, akkor érdemes az írást újból megnyitni, és ránézni a friss részre. Menne ez úgy is, hogy a kedves látogató fejben tartja az olvasottakat, és az itteni írásokat újból és újból megnyitva összeveti a tartalmat emlékeivel.
            Újdonságot észlelve magába szívja az új részeket, naprakészen tartva ezzel ismereteit. Lelkesen és fáradhatatlanul. Na, ennyit nem érnek meg ezek a történetek, nem lenne érdemes nagy figyelmet szánni rájuk, ezért ha valaki visszatérő vendégként olvasgat, akkor a következő jelzésekkel segítem a tájékozódást:
            <br><br>
            <object name="jmtabla"></object>
            <br>
            Mi az, amit érdemes az olvasmányokról számontartani? Elsőként a nézettséget. Láttam már vagy ismeretlen? Ha megjelent már előttem, akkor meddig jutottam a megtekintésben? Szándékosan nem olvasottságnak nevezem az állapotot, mert azt nem tudom megállapítani, sem mérni.
            Ellenben a megjelenítés motorháztető alatti jellemzőiből (<code><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight">scrollHeight</a>,
            <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollY">scrollY</a>,
            <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/innerHeight">innerHeight</a></code>)
            bizonyos következtetések levonhatók. Szerencsés esetben a megjelenített tartalmat elolvassák, befogadják, de erre nem érdemes mérget venni.
            Egy téma frissülését (update) is érdemes jelezni. Ehhez persze tárolni kell a megtekintéskor fennálló helyzet jellemző adatait, ami a weboldal újbóli látogatásakor összevethető a legfrissebb állapottal, és használható a megjelenítés kényelmes vezérléséhez is.
            <br>
            Ezeknek az igényeknek kielégítését rá lehet bízni egy alkalmas algoritmusra, ami a szükséges jelzéseket odabiggyeszti az elérhető tartalmak címei elé, segítve ezzel jó döntések gyors meghozatalát – az emlékek felidézésének terhe nélkül.
          </p>
        </div>
      </div>
      <div class="box">
        <div class="box-text">
          <p>
            A weboldal megjelenése, a terv (divatosan a "design") és az ezt tükröző HTML és CSS kód kedvesem munkája (ő egy meglehetősen sokoldalú teremtés, egy igazi tündér, akire az <a href="/olv/arculat.html">arculati elem</a> kivitelezését is rábízhattam).
            Erre építkezek, ezt alakítom át enyhén a programozói észjárásnak és igényeknek megfelelően, mert a szükséges algoritmusok <a href="https://hu.wikipedia.org/wiki/JavaScript">Javascript</a> formát öltve fognak megtestesülni.
            <br>
            Megfelelő alapokat építve átalakítom a történeteket kínáló menü koncepcióját, aminek következtében az eddig HTML szövegkonstansokként szereplő címek és hivatkozások JSON szerkezettel vegyes tömbökbe kerülnek.
            Programból könnyen kezelhető, rugalmas megoldás. A fejlesztés mellékhatásaként a weboldalak egyéb tényezői is önműködően, a programban deklarált JSON listából kapnak értéket.
            Ez kizárja a bambulás-tévesztés-elírás lehetőségéből eredő hibákat, ami a szokványos "beírom kézzel az összes helyre" megoldás esetén bizony néha nem vezet kifogástalan eredményre, és az esetlegesen megváltozott adatok átvezetésének elmaradásakor fellépő összevisszaságot is kiküszöböli.
            <br>
            A weboldal témaválasztékának megjelenítését intéző <code>menu.html</code> lényegi része (24-64 sorok alakítják a választékot) eredetileg nagyjából így nézett ki:
          </p>
          <div class="box-img">
            <img src="https://kep.pince.eu/jelzes_01.webp">
          </div>
          <p>
            Ezzel a megoldással nem kétséges, hogy ha változik a téma címe, vagy új téma keletkezik, akkor annak módosításáról, beiktatásáról nem csak itt kell gondoskodni, hanem át kell vezetni a változást a témát feldolgozó fejezet címsorában is (heading tag), és az érintett HTML file <code>&lt;title&gt;</code> tartalmának meghatározása sem maradhat el.
            Továbbá helyre kell tenni az összetartozó témák elején és végén szereplő, előző és következő fejezetekre mutató címeket, hivatkozásokat is. Egy új fejezet beszúrása a meglévők közé kaotikus helyzetet teremt, ha nem figyelek kellőképpen.
            Sok munka, nagy felelősség, el lehet rontani. Ha elrontom, annak nyoma van. A világhálón csúfoskodik, ami nem ad okot arra, hogy mellemet döngetve büszkélkedjek az eredménnyel.
            <br>
            Nem értek a matematikához, de egy bonyolultnak tűnő egyenlet megoldásánál is csodát tesz az egyszerűsítés. Hatékony fegyver, nosza, alkalmazzuk.
            Az egyszerűsített <code>menu.html</code> szemmel láthatóan letisztult tartalmat mutat, mindössze 25 sor az egész. A 17-21 sorok képviselik azt a részt, ami alapján a böngésző a témaválasztékot megjeleníti.
          </p>
          <div class="box-img">
            <img src="https://kep.pince.eu/jelzes_02.webp">
          </div>
          <p>
            Amíg nem változik a tartalom témafelosztása, addig ehhez nem is kell hozzányúlni. Az üres <code>&lt;select&gt;</code> elemeket a 25. sorban hivatkozott program tölti fel időszerű tartalommal, ami alapján a legfrissebb kínálat jelenik meg a menüben.
            Egyszer kell megálmodni, majd megfogalmazni a végrehajtandó utasításokat, aztán megy minden magától.
            <br>
            A programozás lényegét valamikor régen úgy fogalmazták meg, hogy erőfeszítéseket teszünk annak érdekében, hogy elkerüljük az erőfeszítéseket. Egyetértek ezzel a megállapítással.
            Kényelmesen hátradőlni, és önelégülten vigyorogva élvezni a helyzetet. Ez a magatartás megengedhető, ha előtte megteremtem a kedvező körülményeket azzal, hogy miután elvégzem a szükséges munkákat, learatom befektetésem hasznát.
            Legyenek bármily bonyolultak, az elkészült programok nem kérnek enni. Tévedhetetlenül, pontosan, hibátlanul és fáradhatatlanul végzik dolgukat, mint a gépek általában – amennyiben nem egy fércmű születik az elvégzett munkából.
            Van lehetőség alapos tesztelésre az éles bevezetés előtt, nem szabad elmulasztani vagy félvállról venni.
            Aki nem veszi komolyan, az úgy jár, mint például az <a href="https://24.hu/belfold/2023/03/10/idomsof-orfk-gepkocsi-atiras-leallas/">Idomsoft</a>, akinek szakemberei szívós munkával elérték, hogy a napokban <a href="https://telex.hu/belfold/2023/03/10/nem-lehet-autot-atirni-es-forgalomba-helyezni-magyarorszagon">összeomlott</a> a gépjármű ügyintézést támogató kormányhivatali rendszer.
            Üdítő újdonság, hogy ők nem <a href="https://www.google.com/search?q=korm%C3%A1ny+t%C3%BAlterhel%C3%A9ses+t%C3%A1mad%C3%A1s">túlterheléses támadásra</a> hivatkozva védik becsületüket, hanem egy kapcsolódó rendszert neveznek meg a hiba okaként.
            <br>
            Lehet készíteni tesztelési tervet, aminek mentén az elkészült program minden ága bejárható, de véleményem szerint kevésbé lehet elrontani az eredményt, ha minden elkészült modult önmagában és a rendszerbe építve is azonnal kipróbálok.
            Szélsőséges adatokkal, olyan helyzeteket is szimulálva, amiknek bekövetkeztére szokványos körülmények közepette nem is lehet számítani. Ezt egyszer kell tisztességesen és nagy figyelemmel elvégezni. Ha átment a vizsgán, utána már nem lehet baj.
          </p>
        </div>
        <div class="box-text-update">
          <p>
            Minden valamirevaló szakember tud mesélni legalább egy történetet, amivel ezt cáfolja. Nem kell messzire menni, mert a <code>fejezetek.js</code> <a href="https://github.com/borpince/weboldal/blob/main/fejezetek.js#L6">6. sorára</a> eredetileg nem volt szükség, enélkül is kifogástalanul működött a program.
            Aztán megtettem azt a lépést, hogy alapos tesztelés után nyomtam egy "Commit & Push"-t a GitHubon.
            Ennek eredményeként a <a href="https://developers.cloudflare.com/pages/platform/git-integration/">Cloudflare Pages</a> helyére teszi a legfrissebb változatot, ami rögtön elérhető a webről. Príma. Nem is az elérhetőséggel van baj, hanem az okoz meglepetést, hogy minden téma legördülő választéka helyett az oldaltérkép jelenik meg,
            ami nem az eredeti elképzelésem szerinti működés, de a teszteredményekhez képest is merőben más, pedig egy vadon élő NGINX webszerveren próbálgattam, nem laborkörülmények között.
            <br>
            Erre mondják a bölcsek, hogy a számítógépes programok nem az elképzeléseinket váltják valóra, hanem az utasításainkat végrehajtva működnek. Szabatosabban kell fogalmazni, és jó lesz.
            Egyszerű recept a megoldáshoz, de egyelőre fingom sincs, hogy miért dolgozza fel másképpen ugyanaz a program a különböző webszerverekről betöltődő, de azonos tartalmú anyagot? Aztán kiderítettem, hogy a Pages-ről betöltött cucc esetén az URL nem tartalmazza a szokásos végződést, és például
            "pince.eu/olv/jelzesek.html" helyett "pince.eu/olv/jelzesek" lesz a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/href"><code>location.href</code></a> értéke, amit most is láthatsz, ha rápillantasz a böngésző címsorára.
            <br>
            Nincs mit tenni, alkalmazkodni kell ehhez a viselkedéshez is, aztán jó lesz. Nem akarok annyira érteni hozzá, hogy a miértre is tudjam a választ, megelégszem azzal, hogy a 6. sorba írt kiegészítéssel megszűnt a rendellenes működés.
          </p>
        </div>
        <div class="box-text">
          <p>
            Mostantól megúszom ugyan a <code>menu.html</code> szerkesztgetését, de valahonnan a helyükre kell kerülniük a választható fejezetcímeknek és a hozzájuk vezető hivatkozásoknak.
            Ezek forrása a <a href="https://github.com/borpince/weboldal/blob/main/fejezetek.js"><code>fejezetek.js</code></a>, amiben a szerkezetét tekintve nagyjából az alábbival azonos listából nyerem az adatokat.
          </p>
          <div class="box-img">
            <img src="https://kep.pince.eu/jelzes_03.webp">
          </div>
          <p>
            Elég ezt karbantartani, és innen garantáltan időszerű adatok kerülnek a HTML file-okban elhelyezett összes hivatkozásba. Ha erre az egy adatforrásra elegendő figyelmet fordítok, akkor nyilván hibátlan lesz az összes hivatkozás tartalma is.
            Nincs elírás, nincs figyelmetlenségből vagy kapkodásból fakadó gebasz, nincs kalamajka.
            <br>
            Van még egy hozadéka ennek az új koncepciónak. Erre építve pofonegyszerűen létrehozható a mindig friss és hibátlan oldaltérkép, aminek elkészítésével mostantól nem kell külön bajlódni.
            Az oldaltérképnek ebben a környezetben több értelmezése lehetséges.
          </p>
          <ul>
            <li><p>Érthetem rajta azt a térképet, ami segít a keresőmotoroknak (<a href="https://en.wikipedia.org/wiki/Search_engine">search engine</a>) eligazodni a weboldal fejezetei között.
              <br>
              Google Search Console, Bing Webmaster Tools – ezeken a helyeken adnak lehetőséget arra, hogy a <a href="https://en.wikipedia.org/wiki/Search_engine_optimization">SEO</a>-műveletek részeként feltöltsem az oldaltérképet
              (webhelytérképnek is hívják), ezért az időszerű térkép legyártására beidomítottam a programot.
              Az egyszerűség jegyében az URL megfelelő paraméterezésével kérhetem az anyagot: <code><a href="https://pince.eu/?terkep">pince.eu/?terkep</a></code> (rajtam kívül senkit nem érdekel, ezért nincs szükség kidolgozott kezelőfelületre).
            </p></li>
            <li><p>Lehet szó arról a segédletről, amivel a weboldal látogatóinak teszem könnyen áttekinthetővé a kínált tartalmakat, hogy kedvükre válogathassanak ezek közül.</p></li>
          </ul>
          <p>
            Utóbbi megjelenítéséhez elég elhelyezni egy <code>&lt;select name="*"&gt;&lt;/select&gt;</code> sort a HTML file-ban, és megjelenik az oldaltérkép (a témaválasztékok összevont listája), ami a korábban ismertetett adatszerkezetből, a <code>fejezetek.js</code> programfile-ban deklarált JSON adatokból nyeri tartalmát:
            <br><br>
            <select name="*"></select>
            <br><br>
            Az eredetileg kopasz SELECT elem tehát a JSON adatokból lett megtűzdelve OPTION listával, de ebben nem csak a fejezetek címei láthatók.
            A címek elé kerülnek azok a jelek, amiket kiértékelve pontos képet kapunk a megjeleníthető tartalom egyéb tulajdonságairól.
            Rettegek attól (romantikus túlzás, mert igazából nem rettegek, de tartok tőle), hogy valamelyik jelzéshez felfedezek egy pofásabb, kifejezőbb ikont,
            ezt a szöveget meg elfelejtem hozzáigazítani a megváltozott jelhez. Máris pöszén néz ki, ahogy megszűnik az összhang a leírás, és a tényleges működés között.
            Elébe menve ennek a rémisztő lehetőségnek, a jelmagyarázat is mindig a legfrissebb deklaráció szellemében készül, amit az <code>&lt;object name="jmtabla"&gt;&lt;/object&gt;</code> sor elhelyezésével illeszthetek be a HTML szövegbe.
            Most már nem nyomaszt ez az eshetőség, máris jobban érzem magam.
            <br><br>
            <object name="jmtabla"></object>
            <br>
            A böngésző ablakának bal felső sarkában elhelyezett házikó ikon alatt kapcsolhatod ki/be a könyvjelzőt. Bekapcsolva a weboldal következő betöltésekor a megjelölt szakasz jelenik meg, innen folytathatod az olvasást.
            A könyvjelző kapcsolója alatti százalékos érték arról tájékoztat, hogy az olvasható tartalomnak hányad része volt eddig látható.
            Ezen kívül a megjelenítést is vezérelheted vele. Rányomva egyet oda gördül a tartalom, ameddig korábban eljutottál a megtekintésben.
            Tovább lapozva az érték növekszik, a könyvjelző önműködően kikapcsol. A könyvjelzővel ellátott fejezetek címei színjelölést kapnak a menüben.
            Nem érvényesül ez a jelölés a Chrome for Android böngészőben, de a könyvjelző hatása ott is működik: a fejezetet betöltve a megjelölt szakaszhoz gördül a tartalom.
            <br><br>
            Ismert hibák, hiányosságok.
            <br>
            A megjelenítés adatait feldolgozó algoritmus csak a korábbi tartalom végéhez toldott változások, bővítések esetén mutatja helyesen a megtekintési arányt az egészhez viszonyítva.
            További tökéletlenséggel kell számolni, ha átméretezed a böngészőablakot, megváltoztatod az oldalarányt. Ez esetben a korábbi pozíciókhoz görgetés pontossága romolhat, különösen a képeket is tartalmazó fejezeteknél.
            Tökéletességre törekedve még mindig gondolkodnék a megoldáson, és valószínűleg soha nem érnék a végére, ha a betoldásos bővítést is kezelhetővé kívánnám tenni. Így viszont elég hamar elkészült, és a hiányosságok ellenére jól használható.
            <br>
            A könyvjelző működéséhez szükséges adatot a megjelenítés számaival együtt tárolom, ezért a könyvjelző csak attól kezdve működik, hogy ez a cookie elkészül (amikor a megtekintési arány százalékos értéke első alkalommal megjelenik).
            Rövid időről van szó, ezért ez a jelenség talán nem is hiányosság, hanem sajátosság.
          </p>
        </div>
      </div>
      <div class="box">
        <div class="box-text">
          <p>
            Ez a fejlesztés szolgálja úgy a látogatók kényelmét, mint a weboldal karbantartásával, a tartalom elhelyezésével foglalkozó személyzetét.
            Bizonyos funkciók megvalósításához szükséges tárolni a megjelenítés adatait, amikből praktikusan cookie-k készülnek.
            E technika használatának azonban következményei vannak. Ezek közül a kínosabb az, hogy a cookie-k törlésével megsemmisülnek ezek az adatok, tehát a korábbi megtekintésekre vonatkozó jelzések eltűnnek.
            A másik következmény, hogy a GDPR megjelenése óta a cookie-t használó weboldalak veszélyesnek számítanak. A minduntalan megjelenő "ez a weboldal sütiket használ" figyelmeztetésekről a középkori leprások jutnak eszembe,
            akiknek kolomppal, csengettyűvel kellett jelezniük veszélyes állapotukat, de a "vigyázz, a kutya harap" figyelmeztetés is hasonló hangulatú.
            <br><br>
            ⚠️Vigyázz, a weboldal sütiket használ!
            <br>
            ⚠️Sérülhetnek a személyiségi jogaid!
            <br>
            ⚠️Zu Risiken und Nebenwirkungen lesen Sie die Packungsbeilage und fragen Sie Ihren Arzt oder Apotheker!
            <br>
            ⚠️Mikrohullámú sütőben ne száríts macskát!
          </p>
        </div>
      </div>
      <div class="box">
        <div class="box-text">
          <p>
            Itt egyszer már véget ért a cselekmény, de most folytatódik a história.
            Ami elméleti síkon nem kerül felszínre, azt majd a gyakorlat kihozza. Ez történt most is, miután elégedetten hátradőltem, és késznek nyilvánítottam ezt a fejlesztést.
            <br>
            A <a href="/olv/bv/podumon2023.html">hétvégi borkóstólóról</a> szóló tudósítás elkészültével észszerűnek tűnt egy új, a borversenyek történeteit összefoglaló témacsoport létrehozása.
            Ezzel a témacsoportok tartalomjegyzékeinek gondozása már félelmet keltő mértékű feladattá duzzadt, ami kellően rémisztő ahhoz, hogy érdemes legyen megoldani az automatizálását.
            Megvannak az alapok, minden adott hozzá, mindössze egy néhány sorból álló eljárást kell megfogalmazni.
            <br>
            Eddig a szokásos favágó módszerrel készült a tartalomjegyzék, aminek összes adata rendelkezésre áll a program által használt JSON listában.
          </p>
          <div class="box-img">
            <img src="https://kep.pince.eu/jelzes_toc.webp">
          </div>
          <p>
            A régi szemlélet terhes örökségnek kiirtására most érett meg a világ. Egyrészt megszűnik a redundancia, másrészt lekerül rólam a teher és a felelősség, hogy az időről időre változó tartalomjegyzékeket aktualizáljam.
            Miután megkomponáltam azt a néhány programsort, ami ezentúl helyettem foglalkozik ezzel az üggyel, a korábbi vaskos szakasz helyett csupán ezt a sort kell elhelyezni minden témacsoport index oldalán:
          </p>
          <div class="box-img">
            <img src="https://kep.pince.eu/jelzes_toc2.webp">
          </div>
          <p>
            Egyszerűbb? Hát hogy a fenébe ne lenne az! Ráadásul garantáltan pontos és hibátlan eredményt ad, szemben egy szerény képességű, lankadó figyelmű emberszabású teljesítményével.
            Különös, hogy eddig nem vetettem be ezt a megoldást, de amikor fárasztó munka rémével fenyegetnek, akkor mindig összeszedem magam.
          </p>
        </div>
      </div>
    </div>
    <div class="footer"></div>
  </section>    
</body>
</html>
<script src="/fejezetek.js"></script>